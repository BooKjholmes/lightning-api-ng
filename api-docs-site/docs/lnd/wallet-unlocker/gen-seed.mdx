---
sidebar_position: 2
---

# GenSeed

GenSeed is the first method that should be used to instantiate a new lnd
instance. This method allows a caller to generate a new aezeed cipher seed
given an optional passphrase. If provided, the passphrase will be necessary
to decrypt the cipherseed to expose the internal wallet seed.

Once the cipherseed is obtained and verified by the user, the InitWallet
method should be used to commit the newly generated seed, and create the
wallet.

## gRPC

```
rpc GenSeed (GenSeedRequest) returns (GenSeedResponse);
```

### GenSeedRequest

| Field                                                                                                                                                                                                                                                 | Type   |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ |
| <MessageField name="aezeed_passphrase">aezeed_passphrase is an optional user provided passphrase that will be used to encrypt the generated aezeed cipher seed. When using REST, this field must be encoded as base64. </MessageField>                | `byte` |
| <MessageField name="seed_entropy">seed_entropy is an optional 16-bytes generated via CSPRNG. If not specified, then a fresh set of randomness will be used to create the seed. When using REST, this field must be encoded as base64. </MessageField> | `byte` |

### GenSeedResponse

| Field                                                                                                                                                                                                                                                                                                                                                                        | Type           |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- |
| <MessageField name="cipher_seed_mnemonic">cipher_seed_mnemonic is a 24-word mnemonic that encodes a prior aezeed cipher seed obtained by the user. This field is optional, as if not provided, then the daemon will generate a new cipher seed for the user. Otherwise, then the daemon will attempt to recover the wallet state linked to this cipher seed. </MessageField> | `array string` |
| <MessageField name="enciphered_seed">enciphered_seed are the raw aezeed cipher seed bytes. This is the raw cipher text before run through our mnemonic encoding scheme. </MessageField>                                                                                                                                                                                      | `bytes`        |

### Code Samples

<Tabs groupId="code-samples">
<TabItem value="js" label="Javascript">


```js
const fs = require('fs');
const grpc = require('@grpc/grpc-js');
const protoLoader = require('@grpc/proto-loader');
const loaderOptions = {
  keepCase: true,
  longs: String,
  enums: String,
  defaults: true,
  oneofs: true
};
const packageDefinition = protoLoader.loadSync(['lightning.proto', 'walletunlocker.proto'], loaderOptions);
const lnrpc = grpc.loadPackageDefinition(packageDefinition).lnrpc;
const macaroon = fs.readFileSync("LND_DIR/data/chain/bitcoin/simnet/admin.macaroon").toString('hex');
process.env.GRPC_SSL_CIPHER_SUITES = 'HIGH+ECDSA';
const lndCert = fs.readFileSync('LND_DIR/tls.cert');
const sslCreds = grpc.credentials.createSsl(lndCert);
const walletUnlocker = new lnrpc.WalletUnlocker('localhost:10009', sslCreds);
let request = {
  aezeed_passphrase: <bytes>,
  seed_entropy: <bytes>,
};
walletUnlocker.genSeed(request, function(err, response) {
  console.log(response);
});
// Console output:
//  {
//      "cipher_seed_mnemonic": <array string>,
//      "enciphered_seed": <bytes>,
//  }
```

</TabItem>
<TabItem value="py" label="Python">


```py
>>> import codecs, grpc, os
>>> # Generate the following 2 modules by compiling the lnrpc/walletunlocker.proto with the grpcio-tools.
>>> # See https://github.com/lightningnetwork/lnd/blob/master/docs/grpc/python.md for instructions.
>>> import walletunlocker_pb2 as lnrpc, walletunlocker_pb2_grpc as walletunlockerstub
>>> os.environ['GRPC_SSL_CIPHER_SUITES'] = 'HIGH+ECDSA'
>>> cert = open('LND_DIR/tls.cert', 'rb').read()
>>> ssl_creds = grpc.ssl_channel_credentials(cert)
>>> channel = grpc.secure_channel('localhost:10009', ssl_creds)
>>> stub = walletunlockerstub.WalletUnlockerStub(channel)
>>> request = lnrpc.GenSeedRequest(
        aezeed_passphrase=<bytes>,
        seed_entropy=<bytes>,
    )
>>> response = stub.GenSeed(request)
>>> print(response)
{
    "cipher_seed_mnemonic": <array string>,
    "enciphered_seed": <bytes>,
}
```

</TabItem>
<TabItem value="bash" label="Shell">


```bash
# Shell sample code is not available in the docs yet.
# Please open a PR to update the comments in the proto file:
# https://github.com/lightningnetwork/lnd/blob/master/lnrpc/walletunlocker.proto
```

</TabItem>
<TabItem value="go" label="Go">


```
// TODO: Go Sample Code
```

</TabItem>
<TabItem value="java" label="Java">


```
// TODO: Java Sample Code
```

</TabItem>
<TabItem value="csharp" label="C#">


```
// TODO: C# Sample Code
```

</TabItem>
</Tabs>


## REST

| HTTP Method       | Path          |
| ----------------- | ------------- |
| <Pill>POST</Pill> | `/v1/genseed` |

### Request

| Field                                                                                                                                                                                                                                                 | Type     | Format | Placement |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | ------ | --------- |
| <MessageField name="aezeed_passphrase">aezeed_passphrase is an optional user provided passphrase that will be used to encrypt the generated aezeed cipher seed. When using REST, this field must be encoded as base64. </MessageField>                | `string` | `byte` | `query`   |
| <MessageField name="seed_entropy">seed_entropy is an optional 16-bytes generated via CSPRNG. If not specified, then a fresh set of randomness will be used to create the seed. When using REST, this field must be encoded as base64. </MessageField> | `string` | `byte` | `query`   |

### lnrpcGenSeedResponse

| Field                                                                                                                                                                                                                                                                                                                                                                        | Type     | Format         |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------------- |
| <MessageField name="cipher_seed_mnemonic">cipher_seed_mnemonic is a 24-word mnemonic that encodes a prior aezeed cipher seed obtained by the user. This field is optional, as if not provided, then the daemon will generate a new cipher seed for the user. Otherwise, then the daemon will attempt to recover the wallet state linked to this cipher seed. </MessageField> | `array`  | `array string` |
| <MessageField name="enciphered_seed">enciphered_seed are the raw aezeed cipher seed bytes. This is the raw cipher text before run through our mnemonic encoding scheme. </MessageField>                                                                                                                                                                                      | `string` | `bytes`        |

### Code Samples

<Tabs groupId="code-samples">
<TabItem value="js" label="Javascript">


```js
const fs = require('fs');
const request = require('request');
let options = {
  url: 'https://localhost:8080/v1/genseed',
  // Work-around for self-signed certificates.
  rejectUnauthorized: false,
  json: true,
};
request.get(options, function (error, response, body) {
  console.log(body);
});
// Console output:
//  {
//      "cipher_seed_mnemonic": <array string>,
//      "enciphered_seed": <byte>,
//  }
```

</TabItem>
<TabItem value="py" label="Python">


```py
>>> import base64, codecs, json, requests
>>> url = 'https://localhost:8080/v1/genseed'
>>> cert_path = 'LND_DIR/tls.cert'
>>> r = requests.get(url, verify=cert_path)
>>> print(r.json())
{
    "cipher_seed_mnemonic": <array string>,
    "enciphered_seed": <byte>,
}
```

</TabItem>
<TabItem value="bash" label="Shell">


```bash
$ MACAROON_HEADER="Grpc-Metadata-macaroon: $(xxd -ps -u -c 1000 $LND_DIR/data/chain/bitcoin/simnet/admin.macaroon)"
$ curl -X GET --cacert $LND_DIR/tls.cert --header "$MACAROON_HEADER" https://localhost:8080/v1/genseed
{
    "cipher_seed_mnemonic": <array string>,
    "enciphered_seed": <byte>,
}
```

</TabItem>
<TabItem value="go" label="Go">


```
// TODO: Go Sample Code
```

</TabItem>
<TabItem value="java" label="Java">


```
// TODO: Java Sample Code
```

</TabItem>
<TabItem value="csharp" label="C#">


```
// TODO: C# Sample Code
```

</TabItem>
</Tabs>

